apiVersion: apps/v1 
kind: Deployment 
metadata: 
  name: go
  labels:
    app: go
spec:
  selector: 
    matchLabels: 
      app: go
  template: 
    metadata: 
      name: go-pod 
      labels: 
        app: go 
      annotations: 
        vault.hashicorp.com/agent-inject: 'true'
        vault.hashicorp.com/role: 'go-app-role'
        vault.hashicorp.com/agent-inject-secret-go-database-config.txt: 'internal/data/go-database-config/credentials/'
    serviceAccountName: go-app-sa
    spec: 
      containers: 
      - name: go-con 
        image: pranay1717/go-mysql-connect:latest 
        resources: 
          requests: 
            cpu: 200m 
            memory: 200Mi
        ports: 
        - containerPort: 8080
---

apiVersion: v1 
kind: Service 
metadata:
  name: go-service 
  labels: 
    app: go
spec: 
  selector:
    app: go
  ports:
  - port: 8080
    targetPort: 8080